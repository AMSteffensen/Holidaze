(this.webpackJsonpholidaze=this.webpackJsonpholidaze||[]).push([[0],{34:function(e,t,a){e.exports=a(48)},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(20),r=a.n(c),s=a(3),o=a(5),m=a(12),i=a(2),u=Object(n.createContext)(),d=function(e){var t=e.children,a=JSON.parse(localStorage.getItem("user"))||null,c=Object(n.useState)(a),r=Object(i.a)(c,2),s=r[0],o=r[1];return l.a.createElement(u.Provider,{value:{user:s,registerUser:function(e){var t=e.username,a=e.password;localStorage.setItem("user",JSON.stringify({username:t,password:a})),o({username:t,password:a})},login:function(e){var t=e.username,a=e.password,n=JSON.parse(localStorage.getItem("user"))||null;return!(!n||n.username!==t||n.password!==a)&&(o({username:t,password:a,authenticated:!0}),localStorage.setItem("user",JSON.stringify({username:t,password:a,authenticated:!0})),!0)},logout:function(){var e=JSON.parse(localStorage.getItem("user"))||null;o(Object(m.a)(Object(m.a)({},e),{},{authenticated:!1})),localStorage.setItem("user",JSON.stringify(Object(m.a)(Object(m.a)({},e),{},{authenticated:!1})))},isAuthenticated:function(){return s&&s.authenticated}}},t)},f=a(33),p=function(e){var t=e.component,a=Object(f.a)(e,["component"]),c=Object(n.useContext)(u).isAuthenticated;return l.a.createElement(o.b,Object.assign({},a,{render:function(e){return c()?l.a.createElement(t,Object.assign({},a,e)):l.a.createElement(o.a,{to:"/login"})}}))},h="https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/",x={"Content-Type":"application/json",key:"5f57e328fe6b09bde55f9d2c"},b=function(e){var t=e.id,a=e.name,n=e.image,c=e.price,r=e.rating;return l.a.createElement("div",{className:"w-64 h-32 rounded-lg bg-white relative shadow-lg mr-4",style:{minWidth:"8rem"}},l.a.createElement(s.b,{to:"/hotels/".concat(t)},l.a.createElement("img",{src:n,className:"w-full h-full rounded-lg",alt:a}),l.a.createElement("div",{className:"absolute top-20 right-0 bg-red-700 rounded-lg py-3 px-3 text-xs text-white",style:{top:25}},c," / day"),l.a.createElement("div",{className:"absolute bottom-0 right-0 bg-red-700 rounded-lg p-1 text-xs text-white"},r," ",l.a.createElement("i",{className:"fa fa-star"}))))},E=function(){return l.a.createElement("div",{className:"w-64 h-32 rounded-lg bg-white relative shadow-lg mr-4",style:{minWidth:"8rem"}})},g=function(e){var t=e.places,a=void 0===t?[]:t;return l.a.createElement("div",{className:"pl-2 pt-6 pb-3"},l.a.createElement("h6",{className:"text-green-900 font-bold mb-3 ml-2"},"Popular places"),l.a.createElement("div",{className:"flex overflow-auto px-2 py-4"},a.length>0?a.map((function(e){return l.a.createElement(b,{key:e.id,price:e.price,rating:4,image:e.image,id:e.id,name:e.name})})):Array.from({length:6}).map((function(e,t){return l.a.createElement(E,{key:t})}))))},N=a(26),w=a(51);function v(){var e=Object(N.a)(['\n  .listBox {\n    max-height: 200px;\n  }\n  .listBox li[data-focus="true"] {\n    background-color: #4a8df6;\n    color: white;\n    cursor: pointer;\n  }\n\n  .listBox li:active {\n    background-color: #2977f5;\n    color: white;\n  }\n']);return v=function(){return e},e}var y=a(27).a.div(v());function j(e){var t=e.accommodations,a=Object(o.g)(),n=Object(w.a)({id:"use-autocomplete-demo",options:t,getOptionLabel:function(e){return e.name}}),c=n.getRootProps,r=n.getInputProps,s=n.getListboxProps,m=n.getOptionProps,i=n.groupedOptions,u=n.value;return l.a.createElement("div",{className:"p-3"},l.a.createElement("form",{onSubmit:function(){return a.push("/hotels/".concat(u?u.id:""))}},l.a.createElement("div",Object.assign({className:"relative text-gray-600 focus-within:text-gray-400"},c()),l.a.createElement("input",Object.assign({className:"p-3 rounded-md w-full shadow-lg outline-none",placeholder:"Search for Hotels"},r())),l.a.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center px-2"},l.a.createElement("button",{className:"p-1 focus:outline-none focus:shadow-outline"},l.a.createElement("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6"},l.a.createElement("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))))),i.length>0?l.a.createElement(y,{className:"absolute z-50 w-full left-0 px-3"},l.a.createElement("ul",Object.assign({className:"listBox bg-white shadow-lg rounded-lg list-none overflow-auto"},s()),i.map((function(e,t){return l.a.createElement("li",Object.assign({className:"p-4 w-full"},m({option:e,index:t})),e.name)})))):null)}var O=function(e){var t=e.name,a=void 0===t?"Apartment in City":t,n=e.price,c=e.description,r=e.image,o=e.id;return l.a.createElement("div",{className:"p-4 mb-32"},l.a.createElement("h6",{className:"text-green-900 font-bold mb-4"},"Featured place"),l.a.createElement("div",{className:"w-full h-32 rounded-lg bg-white relative shadow-lg",style:{minWidth:"8rem"}},r&&l.a.createElement("img",{src:r,className:"w-full h-full rounded-lg object-cover",alt:a}),l.a.createElement("div",{className:"absolute top-20 right-0 bg-red-700 rounded-lg p-1 text-xs text-white",style:{top:25}},n," / day")),l.a.createElement("h6",{className:"text-green-900 my-4 font-semibold"},a),l.a.createElement("p",{className:"text-green-900 my-4"},c||"Lorem ipsum dolor sit amet, consectetur adipiscing elit, \n            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \n            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris \n            nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in \n            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \n            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),l.a.createElement(s.b,{to:"hotels/".concat(o)},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full"},"Check out this place")))},k=a(1),S=a.n(k),C=a(4),q=a(8),L=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1];return[l,function(){c(!0)},function(){c(!1),e&&e()}]},A=function(e){var t=e.open,a=e.message,c=e.onClose;return Object(n.useEffect)((function(){var e;return t&&(e=setTimeout(c,3e3)),function(){return t&&clearTimeout(e)}}),[t,c]),l.a.createElement("div",{className:"flex justify-center items-center bg-gray-900 bg-opacity-75 w-screen h-screen z-50 top-0 p-4 ".concat(t?"fixed":"hidden")},l.a.createElement("div",{className:"bg-gray-200 p-4 text-green-700 text-center py-8 px-4"},l.a.createElement("i",{className:"fa fa-check text-5xl"}),l.a.createElement("h2",{className:"text-center font-bold mb-6 text-xl"},"Confirmation"),l.a.createElement("p",null,a)))},P=function(){var e=Object(q.a)(),t=e.register,a=e.handleSubmit,n=L(),c=Object(i.a)(n,3),r=c[0],s=c[1],o=c[2],m=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,n,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name,n=t.email,l=t.message,h+"contacts",!(a&&n&&l)){e.next=6;break}return e.next=5,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/contacts",{headers:x,method:"POST",body:JSON.stringify({name:a,email:n,message:l})});case 5:s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{message:"Your message has been sent successfully",open:r,onClose:o}),l.a.createElement("div",{className:"bg-gray-900 w-full flex flex-col p-4 text-white"},l.a.createElement("div",{className:"flex justify-center mb-16"},l.a.createElement("img",{className:"w-32",src:"/logo-white.svg",alt:"white logo"})),l.a.createElement("h4",{className:"font-bold mb-2"},"Questions?"),l.a.createElement("form",{onSubmit:a(m)},l.a.createElement("label",{className:"mb-2"},"Name"),l.a.createElement("input",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black",name:"name",type:"text",ref:t,required:!0}),l.a.createElement("label",{className:"mb-2"},"Email"),l.a.createElement("input",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black",name:"email",type:"email",ref:t,required:!0}),l.a.createElement("label",{className:"mb-2"},"Message"),l.a.createElement("textarea",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black h-32",name:"message",ref:t,required:!0}),l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full"},"Send Message"))))},I=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"bg-gray-900 w-full flex flex-col py-16 px-8 text-white"},l.a.createElement(s.b,{to:"/"},l.a.createElement("h4",{className:"font-bold my-2 text-center"},"Home")),l.a.createElement(s.b,{to:"/contact"},l.a.createElement("h4",{className:"font-bold my-2 text-center"},"Contact")),l.a.createElement(s.b,{to:"/login"},l.a.createElement("h4",{className:"font-bold my-2 text-center"},"Login")),l.a.createElement("div",{id:"social",className:"flex text-6xl justify-around items-stretch my-16"},l.a.createElement("i",{className:"fa fa-facebook"}),l.a.createElement("i",{className:"fa fa-instagram"}),l.a.createElement("i",{className:"fa fa-snapchat"})),l.a.createElement("p",{className:"text-center"},"Copyright 2020")))};var J=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),o=s[0],m=s[1];console.log("loading",o),Object(n.useEffect)((function(){fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/establishments",{headers:x}).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}),[]);var u=a.length>0?a[1]:{};return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{accommodations:a}),l.a.createElement(g,{places:a}),l.a.createElement(O,u),l.a.createElement(P,null),l.a.createElement(I,null))};var D=function(){var e=Object(n.useContext)(u).login,t=Object(q.a)(),a=t.register,c=t.handleSubmit,r=L(),m=Object(i.a)(r,3),d=m[0],f=m[1],p=m[2],h=Object(o.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{message:"Login successful",open:d,onClose:function(){p(),h.push("/admin")}}),l.a.createElement("form",{className:"flex flex-col min-h-screen p-4 text-center",onSubmit:c((function(t){e(t)&&f(),console.log("data",t)}))},l.a.createElement("h2",{className:"font-bold mb-6 text-xl"},"Login"),l.a.createElement("div",{className:"flex flex-col mb-4"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{className:"py-3 px-2 rounded-lg shadow-xl",type:"text",name:"username",ref:a})),l.a.createElement("div",{className:"flex flex-col mb-4"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{className:"py-3 px-2 rounded-lg shadow-xl",type:"password",name:"password",ref:a})),l.a.createElement("div",{className:"flex justify-center mb-4"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-32",ref:a},"Login")),l.a.createElement("p",null,"Don't have an account?"," ",l.a.createElement(s.b,{to:"/register"},l.a.createElement("span",{className:"text-bold"},"Register")))))};var F=function(){var e=Object(q.a)(),t=e.register,a=e.handleSubmit,c=Object(n.useContext)(u).registerUser,r=L(),m=Object(i.a)(r,3),d=m[0],f=m[1],p=m[2],h=Object(o.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{message:"Registration successful",open:d,onClose:function(){p(),h.push("/login")}}),l.a.createElement("form",{className:"flex flex-col h-screen p-4 text-center",onSubmit:a((function(e){console.log("data",e),c(e),f()}))},l.a.createElement("h2",{className:"font-bold mb-6 text-xl"},"Register"),l.a.createElement("div",{className:"flex flex-col mb-4"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{className:"py-3 px-2 rounded-lg shadow-xl",type:"text",name:"username",ref:t})),l.a.createElement("div",{className:"flex flex-col mb-4"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{className:"py-3 px-2 rounded-lg shadow-xl",type:"password",name:"password",ref:t})),l.a.createElement("div",{className:"flex justify-center mb-4"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-32",ref:t},"Submit")),l.a.createElement("p",null,"Already have an account?"," ",l.a.createElement(s.b,{to:"/login"},l.a.createElement("span",{className:"text-bold"},"Login.")))))},M=function(e){var t=e.name,a=e.image,n=e.description,c=e.rating,r=e.link;return l.a.createElement(s.b,{to:r},l.a.createElement("div",{className:"w-full rounded-lg my-4 bg-white shadow-lg"},l.a.createElement("img",{src:a,className:"rounded-t-lg h-32 w-full object-cover",alt:t}),l.a.createElement("div",{className:"p-2"},l.a.createElement("h4",{className:"font-semibold"},t,l.a.createElement("span",null,c||4," ",l.a.createElement("i",{className:"fa fa-star"}))),l.a.createElement("p",null,n))))};var B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/establishments",{headers:x}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"p-4"},l.a.createElement("h1",null,"Hotels"),a.map((function(e){return l.a.createElement(M,Object.assign({link:"/admin/hotels/edit/".concat(e.id)},e))})))};var H=function(){var e=Object(q.a)(),t=e.register,a=e.handleSubmit,n=Object(o.g)();function c(){return(c=Object(C.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",t),h+"establishments",a={headers:x,method:"POST",body:JSON.stringify(t)},e.next=5,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/establishments",a);case 5:n.push("/admin/hotels");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("form",{className:"p-4 text-green-800 min-h-screen",onSubmit:a((function(e){return c.apply(this,arguments)}))},l.a.createElement("h1",{className:"text-2xl text-center font-bold"},"Add New Establishment"),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{ref:t,name:"name",className:"py-3 px-2 rounded-lg shadow-xl",type:"text",placeholder:"Enter a name for the Hotel"})),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Image"),l.a.createElement("input",{ref:t,name:"image",className:"py-3 px-2 rounded-lg shadow-xl",type:"text",placeholder:"URL of the image"})),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Contact"),l.a.createElement("input",{ref:t,name:"email",className:"py-3 px-2 rounded-lg shadow-xl",type:"email",placeholder:"Contact email address"})),l.a.createElement("div",{className:"flex space-x-2 mb-8"},l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"Price"),l.a.createElement("input",{ref:t,name:"price",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",placeholder:"Rate per day"})),l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"Max Guests"),l.a.createElement("input",{ref:t,name:"maxGuests",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",placeholder:"Maximum Guests"}))),l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg uppercase w-full",type:"submit"},"Add"))},T=a(32);a(46);var z=function(e){var t=Object(o.g)();function a(){return(a=Object(C.a)(S.a.mark((function a(){var n,l;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=h+"establishments/"+e.id,l={headers:x,method:"DELETE"},a.next=4,fetch(n,l);case 4:t.push("/admin/hotels");case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("button",{className:"bg-white hover:bg-gray-400 text-red-500 font-bold px-2 py-3 rounded inline-flex items-center justify-center w-full shadow-lg",onClick:function(){Object(T.confirmAlert)({title:"Confirm deletion",buttons:[{label:"yes",onClick:function(){return function(){return a.apply(this,arguments)}()}},{label:"no"}]})},type:"button"},l.a.createElement("i",{className:"fa fa-trash mr-2"})," Delete")};var R=function(){var e=Object(o.g)(),t=Object(q.a)(),a=t.register,c=t.handleSubmit,r=Object(n.useState)({name:"",email:""}),s=Object(i.a)(r,2),m=s[0],u=s[1],d=Object(o.h)().id;function f(){return(f=Object(C.a)(S.a.mark((function t(a){var n,l;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h+"establishments/"+d,l={headers:x,method:"PATCH",body:JSON.stringify(a)},t.next=4,fetch(n,l);case 4:e.push("/admin/hotels");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch(h+"establishments/"+d,{headers:x}).then((function(e){return e.json()})).then((function(e){return u(e)})).catch((function(e){return console.log(e)}))}),[d]),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"p-4 text-green-800 min-h-screen",onSubmit:c((function(e){return f.apply(this,arguments)}))},l.a.createElement("h1",{className:"text-2xl text-center font-bold"},"Edit Establishment"),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{ref:a,defaultValue:m.name,name:"name",className:"py-3 px-2 rounded-lg shadow-xl",type:"text",placeholder:"Enter a name for the Hotel"})),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Image"),l.a.createElement("input",{ref:a,defaultValue:m.image,name:"image",className:"py-3 px-2 rounded-lg shadow-xl",type:"text",placeholder:"URL of the image"})),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Contact"),l.a.createElement("input",{ref:a,defaultValue:m.email,name:"email",className:"py-3 px-2 rounded-lg shadow-xl",type:"email",placeholder:"Contact email address"})),l.a.createElement("div",{className:"flex space-x-2 mb-8"},l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"Price"),l.a.createElement("input",{ref:a,defaultValue:m.price,name:"price",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",placeholder:"Rate per day"})),l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"Max Guests"),l.a.createElement("input",{ref:a,defaultValue:m.maxGuests,name:"maxGuests",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",placeholder:"Maximum Guests"}))),l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg uppercase w-full mb-4",type:"submit"},"Save"),l.a.createElement(z,{id:d})))};var U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){(function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h+"contacts",e.next=3,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/contacts",{headers:x});case 3:return e.next=5,e.sent.json();case 5:t=e.sent,console.log("data",t),c(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=Object(n.useContext)(u).user;return l.a.createElement("div",{className:"p-4 text-green-800 min-h-screen"},l.a.createElement("h1",{className:"text-3xl mb-4"},"Welcome ",l.a.createElement("span",{className:"capitalize font-bold"},r.username,"!")),l.a.createElement(s.b,{to:"/admin/messages"},l.a.createElement("p",null,"You have"," ",l.a.createElement("span",{className:"underline font-semibold"},a.length," messages."))),l.a.createElement("h2",{className:"text-xl font-bold mb-4"},"Actions"),l.a.createElement(s.b,{to:"/admin/hotels"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full mb-6"},"View establishments")),l.a.createElement(s.b,{to:"/admin/hotels/add"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full mb-6"},"Create new establishment")),l.a.createElement(s.b,{to:"/admin/enquiries"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full"},"See enquiries")))},G=function(e){var t=e.open,a=e.onClose,c=Object(n.useContext)(u).isAuthenticated;return l.a.createElement("div",{className:"flex bg-black fixed w-full top-0 z-30 ".concat(t?"block":"hidden")},l.a.createElement("div",{className:"relative text-white w-full h-full"},l.a.createElement("button",{className:"absolute w-10 h-10 bg-white text-black shadow-lg flex justify-center items-center",onClick:a,style:{left:15,top:15}},l.a.createElement("i",{className:"fa fa-close"})),l.a.createElement(s.b,{to:"/",onClick:a},l.a.createElement("h2",{className:"text-center my-6 uppercase"},"Home")),l.a.createElement(s.b,{to:"/hotels",onClick:a},l.a.createElement("h2",{className:"text-center my-6 uppercase"},"Hotels")),l.a.createElement(s.b,{to:"/contact",onClick:a},l.a.createElement("h2",{className:"text-center my-6 uppercase"},"Contact")),c()&&l.a.createElement(s.b,{to:"/admin",onClick:a},l.a.createElement("h2",{className:"text-center my-6 uppercase"},"Admin"))))};var W=function(){var e=Object(o.g)(),t=Object(n.useContext)(u),a=t.logout,c=t.isAuthenticated,r=Object(n.useState)(!1),m=Object(i.a)(r,2),d=m[0],f=m[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{open:d,onClose:function(){return f(!1)}}),l.a.createElement("nav",{className:"p-4 w-full flex"},l.a.createElement("button",{className:"w-10 h-10 bg-white shadow-lg flex justify-center items-center",onClick:function(){return f(!0)}},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement("div",{id:"logo",className:"flex flex-1 justify-center"},l.a.createElement(s.b,{to:"/"},l.a.createElement("img",{className:"h-16",src:"/logo.svg",alt:"logo"}))),l.a.createElement(s.b,{to:c()?"":"/login",onClick:function(){a(),e.push("/")}},l.a.createElement("div",{className:"w-10 h-10 flex justify-center items-center text-green-700"},l.a.createElement("i",{className:"fa ".concat(c()?"fa-power-off":"fa-user")})))))};var V=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/establishments",{headers:x}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"p-4 min-h-screen"},l.a.createElement("h1",null,"Hotels"),a.map((function(e){return l.a.createElement(M,Object.assign({link:"/hotels/".concat(e.id)},e))})))},Y=function(e){var t=e.open,a=e.onClose,n=Object(o.i)(),c=Object(q.a)(),r=c.register,s=c.handleSubmit,u=L(a),d=Object(i.a)(u,3),f=d[0],p=d[1],b=d[2],E=function(){var e=Object(C.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",t),a=t.firstName+" "+t.lastName,h+"enquiries",e.next=5,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/enquiries",{headers:x,method:"POST",body:JSON.stringify(Object(m.a)(Object(m.a)({},t),{},{name:a,establishmentId:n.params.id}))});case 5:p();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{message:"Yur enquiry has been submitted successfully!",open:f,onClose:b}),l.a.createElement("div",{className:"bg-gray-200 w-full min-h-screen z-40 top-0 p-4 ".concat(t?"fixed":"hidden")},l.a.createElement("h2",{className:"text-center font-bold mb-6 text-xl"},"Add Booking"),l.a.createElement("button",{className:"absolute w-10 h-10 text-black flex justify-center items-center",onClick:a,style:{right:15,top:15}},l.a.createElement("i",{className:"fa fa-close"})),l.a.createElement("form",{className:"flex flex-col",onSubmit:s(E)},l.a.createElement("div",{className:"flex space-x-2 mb-4"},l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{name:"firstName",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",ref:r})),l.a.createElement("div",{className:"flex flex-1 flex-col"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{name:"lastName",className:"py-3 px-2 rounded-lg shadow-xl w-full",type:"text",ref:r}))),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{name:"phoneNumber",className:"py-3 px-2 rounded-lg shadow-xl",type:"text",ref:r})),l.a.createElement("div",{className:"flex flex-col flex-1 mb-4"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{name:"email",className:"py-3 px-2 rounded-lg shadow-xl",type:"email",ref:r})),l.a.createElement("div",{className:"flex flex-1 flex-col mb-4"},l.a.createElement("label",null,"Start Date"),l.a.createElement("input",{name:"checkIn",className:"py-3 px-2 rounded-lg bg-white shadow-xl w-full",type:"date",ref:r})),l.a.createElement("div",{className:"flex flex-1 flex-col mb-4"},l.a.createElement("label",null,"End Date"),l.a.createElement("input",{name:"checkOut",className:"py-3 px-2 rounded-lg bg-white shadow-xl w-full",type:"date",ref:r})),l.a.createElement("div",{className:"flex justify-center"},l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg uppercase w-32"},"Book Now")))))},Q=function(e){var t=e.match.params.id,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=m[0],d=m[1];if(Object(n.useEffect)((function(){fetch(h+"establishments/"+t,{headers:x}).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).catch((function(e){return console.log(e)}))}),[t]),!r)return l.a.createElement("h1",null,"Hotel not found!");var f=r.name,p=r.price,b=r.description,E=r.image;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{open:u,onClose:function(){return d(!1)}}),l.a.createElement("div",{className:"p-4 min-h-screen"},l.a.createElement("div",{className:"h-32 rounded-lg relative shadow-lg bg-white mb-4"},l.a.createElement("div",{className:"absolute top-20 right-0 bg-red-700 rounded-lg py-3 px-3 text-xs text-white",style:{top:25}},p," / day"),E&&l.a.createElement("img",{id:"hero",src:E,className:"w-full h-full rounded-lg object-cover",alt:f})),l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"rounded-lg h-10 w-10 bg-white m-3 shadow-md"}),l.a.createElement("div",{className:"rounded-lg h-10 w-10 bg-white m-3 shadow-md"}),l.a.createElement("div",{className:"rounded-lg h-10 w-10 bg-white m-3 shadow-md"}),l.a.createElement("div",{className:"rounded-lg h-10 w-10 bg-white m-3 shadow-md"}),l.a.createElement("div",{className:"rounded-lg h-10 w-10 bg-white m-3 shadow-md"})),l.a.createElement("div",{className:"flex text-3xl"},l.a.createElement("i",{className:"fa fa-coffee m-3"}),l.a.createElement("i",{className:"fa fa-shower m-3"}),l.a.createElement("i",{className:"fa fa-wifi m-3"}),l.a.createElement("i",{className:"fa fa-bed m-3"})),l.a.createElement("button",{className:"bg-red-800 shadow-md px-2 py-3 text-white rounded-lg w-full",onClick:function(){return d(!0)}},"Book Now"),l.a.createElement("h3",{className:"text-green-800 font-bold mt-12 mb-8"},"About hotel"),l.a.createElement("p",null,b)))};var $=function(){var e=Object(q.a)(),t=e.register,a=e.handleSubmit,n=L(),c=Object(i.a)(n,3),r=c[0],s=c[1],o=c[2];function m(){return(m=Object(C.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",t),h+"contacts",a={headers:x,method:"POST",body:JSON.stringify(t)},e.next=5,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/contacts",a);case 5:s();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{open:r,onClose:o,message:"Your Query has been recorded successfully"}),l.a.createElement("div",{className:"p-4 text-green-800 mb-12"},l.a.createElement("h4",{className:"font-bold mb-2 text-lg"},"Contact Us"),l.a.createElement("form",{onSubmit:a((function(e){return m.apply(this,arguments)}))},l.a.createElement("label",{className:"mb-2"},"Name"),l.a.createElement("input",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black shadow-lg",name:"name",type:"text",ref:t(),required:!0}),l.a.createElement("label",{className:"mb-2"},"Email"),l.a.createElement("input",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black shadow-lg",name:"email",type:"email",ref:t(),required:!0}),l.a.createElement("label",{className:"mb-2"},"Message"),l.a.createElement("textarea",{className:"rounded-lg px-2 py-3 w-full my-2 outline-none text-black h-32 shadow-lg",name:"message",ref:t(),required:!0}),l.a.createElement("button",{className:"bg-red-700 shadow-md px-2 py-3 text-white rounded-lg w-full uppercase"},"Send Message"))),l.a.createElement(I,null))},K=(a(47),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h+"contacts",e.next=3,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/contacts",{headers:x});case 3:return e.next=5,e.sent.json();case 5:t=e.sent,console.log("data",t),c(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{className:"p-4 min-h-screen"},l.a.createElement("h1",{className:"text-center font-bold text-green-800 text-2xl mb-4"},"Messages"),l.a.createElement("div",{className:"flex flex-col space-y-2"},a.map((function(e){return l.a.createElement("div",{key:e.id,className:"flex space-x-2 justify-items-stretch items-center"},l.a.createElement("div",{className:"flex bg-white justify-center items-center flex-col border-gray-600 border-2 rounded-lg p-2 text-sm",style:{flex:2}},l.a.createElement("p",null,e.name)),l.a.createElement("div",{className:"flex-1 text-gray-700",style:{flex:6}},l.a.createElement("p",null,'"',e.message,'"')))}))))}),X=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),m=o[0],u=o[1];Object(n.useEffect)((function(){var e=function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h+"establishments",e.next=3,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/establishments",{headers:x});case 3:return e.next=5,e.sent.json();case 5:t=e.sent,u(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h+"enquiries",e.next=3,fetch("https://noroffcors.herokuapp.com/https://us-central1-noroff-final-exam.cloudfunctions.net/api/v1/enquiries",{headers:x});case 3:return e.next=5,e.sent.json();case 5:t=e.sent,c(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),e()}),[]);var d=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h+"enquiries/".concat(t),e.next=3,fetch(n,{method:"DELETE",headers:x});case 3:l=a.filter((function(e){return e.id!==t})),c(l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t;return(null===(t=m.find((function(t){return t.id===e})))||void 0===t?void 0:t.name)||e};return l.a.createElement("div",{className:"p-4 min-h-screen"},l.a.createElement("h1",{className:"text-center font-bold text-green-800 text-xl mb-4"},"Enquiries"),l.a.createElement("div",{className:"w-full overflow-auto"},l.a.createElement("table",{className:"table-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2"},"Name"),l.a.createElement("th",{className:"px-4 py-2"},"Email"),l.a.createElement("th",{className:"px-4 py-2"},"Establishment"),l.a.createElement("th",{className:"px-4 py-2"},"Check-In"),l.a.createElement("th",{className:"px-4 py-2"},"Check-Out"),l.a.createElement("th",{className:"px-4 py-2"},"Actions"))),l.a.createElement("tbody",{className:"text-gray-800"},a.map((function(e){var t=e.id,a=e.name,n=e.email,c=e.establishmentId,r=e.checkIn,o=e.checkOut;return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"px-4 py-2"},a),l.a.createElement("td",{className:"px-4 py-2"},n),c!==f(c)?l.a.createElement(s.b,{to:"/hotels/".concat(t)},l.a.createElement("td",{className:"px-4 py-2 underline font-semibold"},f(c))):l.a.createElement("td",{className:"px-4 py-2"},f(c)),l.a.createElement("td",{className:"px-4 py-2"},new Date(r).toLocaleDateString()),l.a.createElement("td",{className:"px-4 py-2"},new Date(o).toLocaleDateString()),l.a.createElement("td",{className:"px-4 py-2"},l.a.createElement("button",{className:"",onClick:function(){return d(t)}},l.a.createElement("i",{className:"fa fa-trash"}))))}))))))};var Z=function(){return l.a.createElement("div",{className:"bg-gray-200"},l.a.createElement(d,null,l.a.createElement(s.a,null,l.a.createElement(W,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,component:J}),l.a.createElement(o.b,{path:"/login",component:D}),l.a.createElement(o.b,{path:"/register",component:F}),l.a.createElement(o.b,{path:"/hotels/:id",component:Q}),l.a.createElement(o.b,{path:"/hotels",exact:!0,component:V}),l.a.createElement(o.b,{path:"/contact",component:$}),l.a.createElement(p,{path:"/admin",exact:!0,component:U}),l.a.createElement(p,{path:"/admin/messages",exact:!0,component:K}),l.a.createElement(p,{path:"/admin/enquiries",exact:!0,component:X}),l.a.createElement(p,{path:"/admin/hotels",exact:!0,component:B}),l.a.createElement(p,{path:"/admin/hotels/add",exact:!0,component:H}),l.a.createElement(p,{path:"/admin/hotels/edit/:id",exact:!0,component:R}),l.a.createElement(o.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.8bbb1e77.chunk.js.map